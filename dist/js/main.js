"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),e}var level=document.querySelector("h1"),highestLevel=document.querySelector("h3"),Enemy=function(e,n,t){this.x=e,this.y=n,this.speed=t,this.sprite="src/images/enemy-bug.png"};function random(e,n){return Math.floor(Math.random()*(n-e))+e}Enemy.prototype.update=function(e){this.x+=this.speed*e,580<this.x&&(this.x=0),this.x+60>player.x&&this.x<player.x+60&&this.y+60>player.y&&this.y<player.y+60&&(player.x=200,player.y=400,player.counter=1,level.textContent="LEVEL ".concat(player.counter),swal("oops! you are dead "," Be carefull!! Play again","warning"))},Enemy.prototype.render=function(){ctx.drawImage(Resources.get(this.sprite),this.x,this.y)};var Player=function(){function a(e,n,t,r,s){_classCallCheck(this,a),this.x=e,this.y=n,this.speed=t,this.sprite="src/images/char-cat-girl.png",this.counter=1,this.highestLevel=1}return _createClass(a,[{key:"update",value:function(){406<this.x?this.x=406:this.x<0?this.x=0:400<this.y?this.y=400:this.y<0&&(player.x=200,player.y=400,enemy1.speed=random(100,100*this.counter),enemy2.speed=random(130,150*this.counter),enemy3.speed=random(150,200*this.counter),swal("Good job!","You Win!!! Play next level","success"),level.textContent="LEVEL ".concat(++this.counter),highestLevel.textContent="Highest Level".concat(this.counter))}},{key:"render",value:function(){ctx.drawImage(Resources.get(this.sprite),this.x,this.y)}},{key:"handleInput",value:function(e){"left"==e?this.x-=100:"up"==e?this.y-=90:"right"==e?this.x+=100:"down"==e&&(this.y+=90)}}]),a}(),player=new Player(200,400),allEnemies=[],enemy1=new Enemy(0,70,random(90,200));allEnemies.push(enemy1);var enemy2=new Enemy(0,140,random(120,120));allEnemies.push(enemy2);var enemy3=new Enemy(0,220,random(150,170));allEnemies.push(enemy3),document.addEventListener("keyup",function(e){player.handleInput({37:"left",38:"up",39:"right",40:"down"}[e.keyCode])});var Engine=function(e){var t,n=e.document,r=e.window,s=n.createElement("canvas"),a=s.getContext("2d");function i(){var n,e=Date.now();n=(e-t)/1e3,allEnemies.forEach(function(e){e.update(n)}),player.update(),function(){var e,n,t=["src/images/water-block.png","src/images/stone-block.png","src/images/stone-block.png","src/images/stone-block.png","src/images/grass-block.png","src/images/grass-block.png"];for(a.clearRect(0,0,s.width,s.height),e=0;e<6;e++)for(n=0;n<5;n++)a.drawImage(Resources.get(t[e]),101*n,83*e);allEnemies.forEach(function(e){e.render()}),player.render()}(),t=e,r.requestAnimationFrame(i)}s.width=505,s.height=606,n.body.appendChild(s),Resources.load(["src/images/stone-block.png","src/images/water-block.png","src/images/grass-block.png","src/images/enemy-bug.png","src/images/char-cat-girl.png"]),Resources.onReady(function(){t=Date.now(),i()}),e.ctx=a}(void 0);!function(){var t={},r=[];function n(e){if(t[e])return t[e];var n=new Image;n.onload=function(){t[e]=n,s()&&r.forEach(function(e){e()})},t[e]=!1,n.src=e}function s(){var e=!0;for(var n in t)t.hasOwnProperty(n)&&!t[n]&&(e=!1);return e}window.Resources={load:function(e){e instanceof Array?e.forEach(function(e){n(e)}):n(e)},get:function(e){return t[e]},onReady:function(e){r.push(e)},isReady:s}}();